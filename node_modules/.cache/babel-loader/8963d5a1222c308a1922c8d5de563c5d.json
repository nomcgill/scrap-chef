{"ast":null,"code":"import { ADD_TO_KITCHEN, REMOVE_FROM_KITCHEN, FIND_RECIPE, UPDATE_MENU, SAVE, LOG_IN, CREATE_USER, LOG_OUT, RESIZE, FIRST_CALL } from './actions';\nvar originalOptions = [{\n  title: \"Nothing yet!\"\n}, {\n  title: \"Add some ingredients from your kitchen!\"\n}];\nconst initialState = {\n  window: 800,\n  username: false,\n  _id: false,\n  ingredients: [\"Chicken\", \"Avocado\", \"Tomato\"],\n  options: originalOptions,\n  recipes: [],\n  selected: '',\n  first: true\n};\nexport const reducer = (state = initialState, action) => {\n  if (action.type === RESIZE) {\n    return Object.assign({}, state, {\n      window: window.innerWidth\n    });\n  }\n\n  if (action.type === LOG_OUT) {\n    return Object.assign({}, state, {\n      window: window.innerWidth,\n      username: false,\n      ingredients: [\"eggs\", \"milk\", \"bread\"],\n      options: originalOptions,\n      selected: ''\n    });\n  }\n\n  if (action.type === ADD_TO_KITCHEN) {\n    let ingredient = action.ingredient;\n    return Object.assign({}, state, {\n      ingredients: [...state.ingredients, ingredient]\n    });\n  }\n\n  if (action.type === FIRST_CALL) {\n    return Object.assign({}, state, {\n      first: false\n    });\n  }\n\n  if (action.type === REMOVE_FROM_KITCHEN) {\n    var array = [...state.ingredients];\n\n    function checkIng(passed) {\n      return passed !== action.item;\n    }\n\n    return Object.assign({}, state, {\n      ingredients: array.filter(checkIng)\n    });\n  }\n\n  if (action.type === UPDATE_MENU) {\n    let newMenu = [...state.options].filter(function (passed) {\n      return passed === \"None\";\n    });\n    let newerMenu = [...newMenu, action.menu.results];\n    var recipeStore = [];\n    newerMenu.forEach(function (food) {\n      var href = food.href;\n      recipeStore.push(href);\n    });\n    return Object.assign({}, state, {\n      options: newerMenu[0],\n      recipes: recipeStore\n    });\n  }\n\n  if (action.type === FIND_RECIPE) {\n    let options = action.options;\n    var recipes = [];\n    options.map(option => {\n      var obj = {};\n      obj[option.title] = option.href;\n      recipes.push(obj.title);\n    });\n    var choice = document.querySelector('input[name=\"meals\"]:checked').value;\n    var recipeUrl = recipes[choice].choice;\n    debugger;\n\n    if (choice) {\n      console.log(recipeUrl);\n      window.open(recipeUrl);\n    }\n  }\n\n  if (action.type === LOG_IN) {\n    var input = action.input;\n    return Object.assign({}, state, {\n      username: input.user,\n      ingredients: input.ingredients,\n      _id: input._id\n    });\n  }\n\n  if (action.type === CREATE_USER) {\n    return Object.assign({}, state, {\n      username: action.newUser,\n      _id: action.insertedId\n    });\n  }\n\n  if (action.type === SAVE) {}\n\n  return state;\n};","map":{"version":3,"sources":["C:\\Users\\nomcg\\desktop\\thinkful\\ReactUnitProjects\\scrap-chef\\src\\reducer.js"],"names":["ADD_TO_KITCHEN","REMOVE_FROM_KITCHEN","FIND_RECIPE","UPDATE_MENU","SAVE","LOG_IN","CREATE_USER","LOG_OUT","RESIZE","FIRST_CALL","originalOptions","title","initialState","window","username","_id","ingredients","options","recipes","selected","first","reducer","state","action","type","Object","assign","innerWidth","ingredient","array","checkIng","passed","item","filter","newMenu","newerMenu","menu","results","recipeStore","forEach","food","href","push","map","option","obj","choice","document","querySelector","value","recipeUrl","console","log","open","input","user","newUser","insertedId"],"mappings":"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","sourcesContent":["import {ADD_TO_KITCHEN, REMOVE_FROM_KITCHEN, FIND_RECIPE, UPDATE_MENU, SAVE, LOG_IN, CREATE_USER, LOG_OUT, RESIZE, FIRST_CALL} from './actions';\r\n\r\nvar originalOptions = [\r\n    {title: \"Nothing yet!\"},\r\n    {title: \"Add some ingredients from your kitchen!\"}]\r\n\r\nconst initialState = {\r\n    window: 800,\r\n    username: false,\r\n    _id: false,\r\n    ingredients: [\"Chicken\", \"Avocado\", \"Tomato\"],\r\n    options: originalOptions,\r\n    recipes: [],\r\n    selected: '',\r\n    first: true\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n    if (action.type === RESIZE) {\r\n        return Object.assign({}, state, {\r\n            window: window.innerWidth\r\n        })\r\n    }\r\n\r\n    if (action.type === LOG_OUT) {\r\n        return Object.assign({}, state, {\r\n            window: window.innerWidth,\r\n            username: false,\r\n            ingredients: [\"eggs\", \"milk\", \"bread\"],\r\n            options: originalOptions,\r\n            selected: ''\r\n        });\r\n    }\r\n\r\n    if (action.type === ADD_TO_KITCHEN) {\r\n        let ingredient = action.ingredient;\r\n                \r\n        return Object.assign({}, state, {\r\n            ingredients: [...state.ingredients, ingredient]\r\n        })\r\n    }\r\n\r\n    if (action.type === FIRST_CALL) {  \r\n        return Object.assign({}, state, {\r\n            first: false\r\n        })\r\n    }\r\n\r\n    if (action.type === REMOVE_FROM_KITCHEN) {\r\n        var array = [...state.ingredients]\r\n        function checkIng(passed){\r\n            return passed !== action.item\r\n        }\r\n\r\n        return Object.assign({}, state, {\r\n            ingredients: array.filter(checkIng)\r\n        })\r\n    }\r\n\r\n    if (action.type === UPDATE_MENU) {\r\n        let newMenu = [...state.options].filter(function(passed){\r\n            return passed === \"None\"\r\n        })\r\n        let newerMenu = [...newMenu, action.menu.results];\r\n        var recipeStore = []\r\n        newerMenu.forEach(function(food) {\r\n            var href = food.href\r\n            recipeStore.push(href)\r\n        })\r\n\r\n        return Object.assign({}, state, {\r\n            options: newerMenu[0],\r\n            recipes: recipeStore\r\n        })\r\n    }\r\n\r\n    if (action.type === FIND_RECIPE) {\r\n        let options = action.options\r\n        var recipes = []\r\n        options.map((option) => {\r\n            var obj = {}\r\n            obj[option.title] = option.href\r\n            recipes.push(obj.title)\r\n        })\r\n        var choice = document.querySelector('input[name=\"meals\"]:checked').value\r\n        var recipeUrl = recipes[choice].choice\r\n        debugger;\r\n        if (choice){\r\n            console.log(recipeUrl)\r\n            window.open(recipeUrl)\r\n        }\r\n    }\r\n\r\n    if (action.type === LOG_IN) {\r\n        var input = action.input\r\n\r\n        return Object.assign({}, state, {\r\n            username: input.user,\r\n            ingredients: input.ingredients,\r\n            _id: input._id\r\n        })        \r\n    }\r\n    \r\n    if (action.type === CREATE_USER) {\r\n        return Object.assign({}, state, {\r\n            username: action.newUser,\r\n            _id: action.insertedId\r\n        })   \r\n    }\r\n\r\n    if (action.type === SAVE) {\r\n    }\r\n\r\n    return state;\r\n\r\n}"]},"metadata":{},"sourceType":"module"}