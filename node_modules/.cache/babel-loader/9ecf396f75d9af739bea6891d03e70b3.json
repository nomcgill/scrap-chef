{"ast":null,"code":"var herokuAPIEndpoint = \"https://scrap-chef-server.herokuapp.com/\";\nexport const ADD_TO_KITCHEN = 'ADD_TO_KITCHEN';\nexport const addToKitchen = ingredient => ({\n  type: ADD_TO_KITCHEN,\n  ingredient\n});\nexport const REMOVE_FROM_KITCHEN = 'REMOVE_FROM_KITCHEN';\nexport const removeFromKitchen = item => ({\n  type: REMOVE_FROM_KITCHEN,\n  item\n});\nexport const FIND_RECIPE = 'FIND_RECIPE';\nexport const findRecipe = recipes => ({\n  type: FIND_RECIPE,\n  recipes\n});\nexport const UPDATE_MENU = 'UPDATE_MENU';\nexport const updateMenu = menu => ({\n  type: UPDATE_MENU,\n  menu\n});\nexport const fetchMenu = ingredients => dispatch => {\n  console.log(\"FETCHING!!!\");\n  const recipePuppy = 'https://cors-anywhere.herokuapp.com/http://www.recipepuppy.com/api?i=';\n  var joinedIngredients = ingredients.join(', ');\n  fetch(recipePuppy + joinedIngredients + '&p=' + 1).then(res => {\n    // console.log(\"fetched! waiting...\")\n    if (!res.ok) {\n      return Promise.reject(res.statusText);\n    }\n\n    return res.json();\n  }).then(menu => {\n    dispatch(updateMenu(menu));\n  });\n};\nexport const LOG_IN = 'LOG_IN';\nexport const logIn = input => ({\n  type: LOG_IN,\n  input\n});\nexport const atlasLogIn = userInput => dispatch => {\n  var GETbyUsernameURL = herokuAPIEndpoint + \"find?username=\" + userInput;\n  fetch(GETbyUsernameURL).then(response => {\n    if (response.status === 404) {\n      throw new Error(response.status + \": Username not found.\");\n    }\n\n    if (response.status === 200) {\n      return response.json();\n    }\n  }).then(data => {\n    currentUser = data;\n    loans = currentUser.loans;\n    loggedIn = true;\n    return currentUser;\n  }).then(data => {\n    $(\"#log-in\").off();\n    resetBox(logIn);\n    swal(\"\", \"Welcome back, \".concat(currentUser.username, \"!\"), \"success\");\n  }).catch(error => swal(\"\".concat(error)));\n};\nexport const LOG_OUT = 'LOG_OUT';\nexport const logOut = () => ({\n  type: LOG_OUT\n});\nexport const RESIZE = 'RESIZE';\nexport const resize = () => ({\n  type: RESIZE\n});\nexport const SAVE = 'SAVE';\nexport const save = ingredients => ({\n  type: SAVE,\n  ingredients\n});\nexport const CREATE_USER = 'CREATE_USER';\nexport const createUser = () => ({\n  type: CREATE_USER\n});","map":{"version":3,"sources":["C:\\Users\\nomcg\\desktop\\thinkful\\ReactUnitProjects\\scrap-chef\\src\\actions.js"],"names":["herokuAPIEndpoint","ADD_TO_KITCHEN","addToKitchen","ingredient","type","REMOVE_FROM_KITCHEN","removeFromKitchen","item","FIND_RECIPE","findRecipe","recipes","UPDATE_MENU","updateMenu","menu","fetchMenu","ingredients","dispatch","console","log","recipePuppy","joinedIngredients","join","fetch","then","res","ok","Promise","reject","statusText","json","LOG_IN","logIn","input","atlasLogIn","userInput","GETbyUsernameURL","response","status","Error","data","currentUser","loans","loggedIn","$","off","resetBox","swal","username","catch","error","LOG_OUT","logOut","RESIZE","resize","SAVE","save","CREATE_USER","createUser"],"mappings":"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","sourcesContent":["\r\nvar herokuAPIEndpoint = \"https://scrap-chef-server.herokuapp.com/\"\r\n\r\nexport const ADD_TO_KITCHEN = 'ADD_TO_KITCHEN';\r\nexport const addToKitchen = ingredient => ({\r\n    type: ADD_TO_KITCHEN,\r\n    ingredient\r\n});\r\n\r\nexport const REMOVE_FROM_KITCHEN = 'REMOVE_FROM_KITCHEN';\r\nexport const removeFromKitchen = item => ({\r\n    type: REMOVE_FROM_KITCHEN,\r\n    item\r\n});\r\n\r\nexport const FIND_RECIPE = 'FIND_RECIPE';\r\nexport const findRecipe = recipes => ({\r\n    type: FIND_RECIPE,\r\n    recipes\r\n});\r\n\r\nexport const UPDATE_MENU = 'UPDATE_MENU';\r\nexport const updateMenu = menu => ({\r\n    type: UPDATE_MENU,\r\n    menu\r\n});\r\n\r\nexport const fetchMenu = (ingredients) => dispatch => {\r\n    console.log(\"FETCHING!!!\")\r\n    const recipePuppy = 'https://cors-anywhere.herokuapp.com/http://www.recipepuppy.com/api?i='\r\n    var joinedIngredients = ingredients.join(', ')\r\n    fetch(recipePuppy + joinedIngredients + '&p=' + 1)\r\n        .then(res => {\r\n            // console.log(\"fetched! waiting...\")\r\n            if (!res.ok) {\r\n                return Promise.reject(res.statusText);\r\n            }\r\n            return res.json();\r\n        })\r\n        .then(menu => {\r\n            dispatch(updateMenu(menu));\r\n        });\r\n}\r\n\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const logIn = input => ({\r\n    type: LOG_IN,\r\n    input\r\n});\r\n\r\nexport const atlasLogIn = (userInput) => dispatch => {\r\n    var GETbyUsernameURL = herokuAPIEndpoint + `find?username=` + userInput\r\n    fetch (GETbyUsernameURL)\r\n    .then(response => {\r\n        if (response.status === 404) {\r\n            throw new Error (response.status + `: Username not found.`);\r\n        }\r\n        if (response.status === 200) {\r\n            return response.json();\r\n        }\r\n    })\r\n    .then(data => {\r\n        currentUser = data\r\n        loans = currentUser.loans\r\n        loggedIn = true\r\n        return currentUser\r\n    })\r\n    .then(data => {\r\n        $(\"#log-in\").off()\r\n        resetBox(logIn)\r\n        swal(\"\", `Welcome back, ${currentUser.username}!`,\"success\")            \r\n    })\r\n    .catch (error => swal (`${error}`));\r\n}\r\n\r\nexport const LOG_OUT = 'LOG_OUT';\r\nexport const logOut = () => ({\r\n    type: LOG_OUT\r\n});\r\n\r\nexport const RESIZE = 'RESIZE';\r\nexport const resize = () => ({\r\n    type: RESIZE\r\n});\r\n\r\nexport const SAVE = 'SAVE'\r\nexport const save = ingredients => ({\r\n    type: SAVE,\r\n    ingredients\r\n})\r\n\r\nexport const CREATE_USER = 'CREATE_USER';\r\nexport const createUser = () => ({\r\n    type: CREATE_USER\r\n});\r\n"]},"metadata":{},"sourceType":"module"}